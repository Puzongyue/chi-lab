# 第三阶段影院管理系统（CCS）需求规格说明文档

by：nju_random_committee

## 文档修改历史

| 修改人员 | 日期       | 修改原因                                 | 版本号 |
| :------: | ---------- | ---------------------------------------- | ------ |
|  栾昀鹏  | 2019.05.25 | 完成1-2，功能需求中30-34用例对应的部分   | V1.0   |
|  勇中坚  | 2019.05.27 | 完成3.3-4，功能需求中24-29用例对应的部分 | V1.1   |
|   倪雯   | 2019.05.28 | 完成3.1                                  | V2.0   |
|  栾昀鹏  | 2019.06.05 | 修改退票部分的功能需求                   | V2.1   |

[TOC]

## 1. 引言

### 1.1 目的

​		本文档描述了影院管理系统（CCS）第三阶段的功能需求和非功能需求。开发小组的软件系统实现和验证工作都以此文档为依据。

​		除特殊说明外，本文档包含的需求都是高优先级需求。

### 1.2 范围

开发目标是完善影院管理系统（CCS），使得管理员可以修改会员卡优惠策略、退票策略、影厅信息，对影院角色进行增删改查，对符合消费额度要求的会员赠送优惠券。使得观众可以按退票策略退票，查看历史充值和消费记录。

### 1.3 参考文献

1.IEEE 标准

2.第三阶段影院管理系统（CCS）用例文档

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

由于影院规模扩大，前来该影院观影的观众人数增多，原先的功能不能满足现阶段的需求。可以修改会员卡的充值优惠之后，可以吸引不同消费水平的观众进行会员卡充值。新增退票功能可以满足观众退票的需求，使得影院的服务更人性化，从而吸引更多顾客。可以修改影厅信息之后，方便影院进行扩建，为观众提供多样化的影厅选择。对影院角色的增删改查适应了影院规模变大，管理人员变多的实际状况，便于影院管理。查看历史充值、消费记录可以为观众提供更多信息，提升观众使用体验。赠送优惠券可以给满足条件的会员更多优惠，刺激会员消费。

#### 2.1.2 业务需求

BR1: 在系统使用6个月后，登陆用户量提高50%

BR2: 在系统使用6个月后，销售额度提高20%

​	最好情况：40%

​	最坏情况：10%

### 2.2 项目功能

SF1 发布会员卡

SF2 修改会员卡优惠策略

SF3 新增退票策略

SF4 修改退票策略

SF5 影厅信息录入

SF6 修改影厅信息

SF7 影院角色的增删改查

SF8 用户退票

SF9 查看历史充值记录

SF10 查看历史消费记录

SF11 赠送优惠券



### 2.3 用户特征

| 管理员 | 系统有2-4个管理员，工作是根据影院的经营状况修改会员卡优惠策略、退票策略；根据影院的影厅建设状况修改影厅信息。有一个拥有最高权限的管理员需要根据影院的人事变动对管理员账号进行增删改查。他们的计算机操作水平较好。 |
| :----- | ------------------------------------------------------------ |
| 观众   | 系统有n个观众，他们可以根据自己的需要退票、查看历史消费记录、历史充值记录。他们的计算机操作水平差异极大，所以系统应尽量简洁易懂。 |

### 2.4 约束

CON1：系统将运行在Windows 10操作系统上

CON2：系统不使用图形界面，而是web界面。

CON3：项目要使用持续集成方法进行开发。

CON4：在开发中，开发者要提交用例文档、软件需求规格说明文档、设计描述文档和测试报告。

CON5：系统将运行在Chrome、IE、Edge、360、Safari浏览器上。

### 2.5 假设和依赖

AE1：用户（观众、影院管理员）必须登录才能使用该系统。

AE2：观众使用银行卡付款的时候，默认银行卡的余额无限。

AE3：管理员系统初始添加一名管理员（拥有最高权限），后续添加的管理员信息只能由最初管理员账号添加。

AE4：管理员和观众的登录的url不同，界面类似。假设观众不会登录管理员登录对应的url。

## 3. 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

##### 3.1.1.1 观众界面

**UI1 观众退票**：系统使用jquery风格的界面，帮助观众完成退票任务

界面图示如图：



![Vx8SbQ.png](https://s2.ax1x.com/2019/06/20/Vx8SbQ.png)

​     

  UI1.1  观众点击头像，选中我的电影票，可退款界面，系统展开可退电影票列表。展示如图：

![Vx89Ej.png](https://s2.ax1x.com/2019/06/20/Vx89Ej.png)



​      UI1.2  观众选中退票按钮，选择想退电影票，确认后，系统退票，自动返回可退电影列表界面。

**UI2 观众查看历史消费/充值记录**：系统帮助观众查看历史消费/充值记录

界面图示如图：

![Vx8M5R.png](https://s2.ax1x.com/2019/06/20/Vx8M5R.png)

​      UI1.1 观众点击头像，选择“我的消费记录”，系统展开购票几记录及充值记录。



##### 3.1.1.2 影院管理员界面

**UI1 ：管理员发布，修改会员卡策略**：系统帮助管理员进行发布，修改会员卡策略活动。

界面图示如图：

![Vx80PI.png](https://s2.ax1x.com/2019/06/20/Vx80PI.png)


​     UI1.1 管理员登陆，选择会员卡管理，系统展开会员卡管理界面。管理员选择发布会员卡界面，系统展开新增会员卡资料界面。

​     UI1.2  管理员填写必填项，点击发布，系统发布会员卡。

​     UI1.3  管理员选择修改会员卡按钮，系统展开会员卡编辑界面。

​     UI1.4 管理员修改策略，点击确定，系统发布修改后的会员卡。



**UI2：管理员发布，修改退票策略：**系统帮助管理员进行发布，修改退票策略。

界面图示如图：

![Vx8dIA.png](https://s2.ax1x.com/2019/06/20/Vx8dIA.png)

​    

​    UI2.1  管理员登陆，选择退票管理，系统展开退票管理界面。管理员选择发布退票策略界面，系统展开新增退票策略界面。

​    UI2.2  管理员填写必填项，点击发布，系统发布退票策略。

​     UI2.3  管理员选择修改退票策略按钮，系统展开退票策略编辑界面。

​     UI2.4 管理员修改策略，点击确定，系统发布修改后的退票策略。



**UI3：管理员录入，修改影厅信息：**系统帮助管理员进行录入，修改影厅信息活动

界面图示如图：

![VxYmqS.png](https://s2.ax1x.com/2019/06/20/VxYmqS.png)

​     UI3.1 管理员登陆，选择影院管理，系统展开影院管理界面。管理员选择录入影厅系统按钮，系统展开新增退票策略界面。

​     UI2.2  管理员填写必填项，点击发布，系统新建影厅。

​     UI2.3  管理员选择修改退票策略按钮，系统展开退票策略编辑界面。

​     UI2.4 管理员修改策略，点击确定，系统发布修改后的退票策略。



**UI4：影院员工信息的增删改查：**系统帮助管理员进行员工信息的增删改查

界面图示如图：

![Vx8TMT.png](https://s2.ax1x.com/2019/06/20/Vx8TMT.png)
          UI4.1管理员选择录入影厅系统按钮，系统展开新增退票策略界面。

   UI4.2  管理员填写必填项，点击发布，系统新建影厅。

   UI4.3  管理员选择修改退票策略按钮，系统展开退票策略编辑界面。

   UI4.4 管理员修改策略，点击确定，系统发布修改后的退票策略。



UI5：增送优惠券

​    界面图示如图：

![Vx87sU.png](https://s2.ax1x.com/2019/06/20/Vx87sU.png)
                UI5.1 管理员选择赠送优惠券按钮，系统显示赠送优惠券界面

​         UI5.2 管理员填写优惠券内容，确认后系统发布

​          UI5.3 管理员选中优惠券，系统赠送到相应用户账户上

### 3.2 功能需求

#### 3.2.1 影院管理员



##### 3.2.1.1 发布会员卡优惠策略

###### 3.2.1.1.1 特性描述

当管理员需要通过新的优惠策略来进行促销时，影院管理员发布新的基于最低充值金额的会员卡充值优惠策略。

###### 3.2.1.1.2 刺激/响应序列

刺激：管理员发起发布优惠策略的请求。

响应：系统跳转到输入相关信息的界面。

刺激：管理员输入全部信息并提交。

相应：系统提示此次发布成功或失败。

刺激：管理员选择退出发布。

相应：系统返回发布前的界面。

###### 3.2.1.1.3 相关功能需求

| Manager.Input         | 系统应该允许管理员在发布优惠活动进行鼠标单击或键盘输入。 |
| --------------------- | ------------------------------------------------------------ |
| Manager.Input.Publish | 在管理员请求发布优惠活动时，系统要弹出对应页面，让管理员输入信息。参见Manager.Publish |
| Manager.Publish.Result  | 在管理员添加完成要发布的信息后，系统提示是否成功。|
| Manager.Publish.End   | 管理员添加完成以后，系统应返回到发布新的主界面。             |
| Manager.Publish.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |

##### 3.2.1.2 修改会员卡优惠策略

###### 3.2.1.2.1 特性描述

当影院管理员需要按需修改当前的会员卡优惠策略时，管理员选择修改优惠策略。

###### 3.2.1.2.2 刺激/响应序列

刺激：管理员发起发布优惠策略的请求。

响应：系统跳转到搜索优惠策略的界面。

刺激：管理员输入相关信息。

相应：系统显示符合要求的优惠策略列表。

刺激：管理员选中将要修改的优惠策略。

相应：系统跳转到输入相关信息的界面。

刺激：管理员输入全部信息并提交。

相应：系统提示此次发布成功或失败。

刺激：管理员选择退出修改。

相应：系统返回修改前的界面。

###### 3.2.1.2.3 相关功能需求
| Manager.Input         | 系统应该允许管理员在更新优惠策略进行鼠标单击或键盘输入。 |
| --------------------- | ------------------------------------------------------------ |
| Manager.Input.Update | 在管理员请求修改会员卡优惠策略时，系统要弹出对应页面，让管理员输入信息。参见Manager.Update |
| Manager.Input.Search | 在管理员查询想要修改的会员卡优惠策略时，系统要弹出对应页面，让管理员输入信息。参见Manager.Search |
| Manager.Update.Result  | 在管理员添加完成要发布的信息后，系统提示是否成功。|
| Manager.Update.End   | 管理员添加完成以后，系统应返回到修改会员优惠策略的主界面。  |
| Manager.Update.Null   | 管理员如果不输入任何信息，系统不做任何处理。                |
| Manager.Search.End    | 管理员搜索完成以后，系统应跳转到输入新的信息的主界面。 |
| Manager.Search.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Search.Result | 管理员输入信息后，系统应该返回匹配的优惠策略信息。如果没有，则提示没有对应的优惠策略。 |



##### 3.2.1.3 新增退票策略

###### 3.2.1.3.1 特性描述

当系统需要新的退票策略来满足不同观众的退票需求时，管理员新增退票策略。

###### 3.2.1.3.2 刺激/响应序列

刺激：管理员发起发布退票策略的请求。

响应：系统跳转到输入相关信息的界面。

刺激：管理员输入全部信息并提交。

相应：系统提示此次发布成功或失败。

刺激：管理员选择退出发布。

相应：系统返回发布前的界面。

###### 3.2.1.3.3 相关功能需求

| Manager.Input          | 系统应该允许管理员在新增退票策略进行鼠标单击或键盘输入。     |
| ---------------------- | ------------------------------------------------------------ |
| Manager.Input.Publish  | 在管理员请求新增退票策略时，系统要弹出对应页面，让管理员输入信息。参见Manager.Publish |
| Manager.Publish.Result | 在管理员添加完成要发布的信息后，系统提示是否成功。           |
| Manager.Publish.End    | 管理员添加完成以后，系统应返回到发布新的主界面。             |
| Manager.Publish.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |

##### 3.2.1.4 修改退票策略

###### 3.2.1.4.1 特性描述

当系统需要修改退票策略来满足不同观众的退票需求时，管理员修改退票策略。

###### 3.2.1.4.2 刺激/响应序列

刺激：管理员发起发布退票策略的请求。

响应：系统跳转到搜索退票策略的界面。

刺激：管理员输入相关信息。

相应：系统显示符合要求的退票策略列表。

刺激：管理员选中将要修改的退票策略。

相应：系统跳转到输入相关信息的界面。

刺激：管理员输入全部信息并提交。

相应：系统提示此次发布成功或失败。

刺激：管理员选择退出修改。

相应：系统返回修改前的界面。

###### 3.2.1.4.3 相关功能需求

| Manager.Input         | 系统应该允许管理员在更新退票策略进行鼠标单击或键盘输入。 |
| --------------------- | ------------------------------------------------------------ |
| Manager.Input.Update | 在管理员请求修改退票策略时，系统要弹出对应页面，让管理员输入信息。参见Manager.Update |
| Manager.Input.Search | 在管理员查询想要修改的退票策略时，系统要弹出对应页面，让管理员输入信息。参见Manager.Search |
| Manager.Update.Result  | 在管理员添加完成要发布的信息后，系统提示是否成功。|
| Manager.Update.End   | 管理员添加完成以后，系统应返回到修改退票策略的主界面。   |
| Manager.Update.Null   | 管理员如果不输入任何信息，系统不做任何处理。                |
| Manager.Search.End    | 管理员搜索完成以后，系统应跳转到输入新的信息的主界面。 |
| Manager.Search.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Search.Result | 管理员输入信息后，系统应该返回匹配的退票策略信息。如果没有，则提示没有对应的退票策略。 |

##### 3.2.1.5 影厅信息录入

###### 3.2.1.1.1 特性描述

当影院有未被录入的影厅时，影院管理员录入影厅信息。

###### 3.2.1.1.2 刺激/响应序列

刺激：管理员发起录入影厅信息的请求。

响应：系统跳转到输入相关信息的界面。

刺激：管理员输入全部信息并提交。

相应：系统提示此次发布成功或失败。

刺激：管理员选择退出录入影厅信息。

相应：系统返回录入影厅信息前的界面。

###### 3.2.1.1.3 相关功能需求

| Manager.Input          | 系统应该允许管理员在录入影厅信息进行鼠标单击或键盘输入。     |
| ---------------------- | ------------------------------------------------------------ |
| Manager.Input.Publish  | 在管理员请求录入影厅信息时，系统要弹出对应页面，让管理员输入信息。参见Manager.Publish |
| Manager.Publish.Result | 在管理员添加完成要发布的信息后，系统提示是否成功。           |
| Manager.Publish.End    | 管理员添加完成以后，系统应返回到发布新的主界面。             |
| Manager.Publish.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |

##### 3.2.1.6 修改影厅信息

###### 3.2.1.6.1 特性描述

当影院的影厅出现扩建等特殊情况时，管理员选择修改影厅信息。

###### 3.2.1.6.2 刺激/响应序列

刺激：管理员发起修改影厅信息的请求。

响应：系统跳转到搜索影厅的界面。

刺激：管理员输入相关信息。

相应：系统显示符合要求的影厅列表。

刺激：管理员选中将要修改的影厅信息。

相应：系统跳转到输入相关信息的界面。

刺激：管理员输入全部信息并提交。

相应：系统提示此次发布成功或失败。

刺激：管理员选择退出修改。

相应：系统返回修改前的界面。

###### 3.2.1.6.3 相关功能需求

| Manager.Input         | 系统应该允许管理员在修改影厅信息进行鼠标单击或键盘输入。     |
| --------------------- | ------------------------------------------------------------ |
| Manager.Input.Update  | 在管理员请求修改影厅信息时，系统要弹出对应页面，让管理员输入信息。参见Manager.Update |
| Manager.Input.Search  | 在管理员查询想要修改的影厅信息时，系统要弹出对应页面，让管理员输入信息。参见Manager.Search |
| Manager.Update.Result | 在管理员添加完成要发布的信息后，系统提示是否成功。           |
| Manager.Update.End    | 管理员添加完成以后，系统应返回到修改影厅信息的主界面。       |
| Manager.Update.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Search.End    | 管理员搜索完成以后，系统应跳转到输入新的信息的主界面。       |
| Manager.Search.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Search.Result | 管理员输入信息后，系统应该返回匹配的影厅信息。如果没有，则提示没有对应的影厅。 |

##### 3.2.1.7 影院角色的增删改查

###### 3.2.1.7.1 特性描述

当影院出现人事变动，需要更新管理员的信息时，拥有最高权限的管理员（root）对其他管理员的信息进行增删改查。

优先级=高

###### 3.2.1.7.2 刺激/响应序列

刺激：管理员发起增删改查的请求。

响应：系统返回相应的对话框。

刺激：管理员输入信息。

响应：系统检查管理员输入的信息是否合法。

刺激：管理员确认。

响应：系统提示成功还是失败。



###### 3.2.1.7.3 相关功能需求

| Manager.Input         | 系统应该允许管理员在管理员的增删改查页面进行鼠标单击或键盘输入。 |
| --------------------- | ------------------------------------------------------------ |
| Manager.Input.Search  | 在管理员请求查找管理员时，系统要弹出对应页面，让管理员输入信息。参见Manager.Search |
| Manager.Input.Add     | 在管理员请求增加管理员时，系统要弹出对应页面，让管理员输入信息。参见Manager.Add |
| Manager.Input.Delete  | 在管理员请求删除管理员时，系统要提示删除结果。参见Manager.Delete |
| Manager.Input.Update  | 在管理员请求更新管理员信息时，系统要弹出对应页面，让管理员输入信息。参见Manager.Update |
| Manager.Add.Null      | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Add.End       | 管理员成功输入完管理员信息后，系统要能结束并返回提示信息。   |
| Manager.Delete.End    | 管理员删除管理员后，系统要能返回提示信息，并且重新刷新页面显示删除后的结果 |
| Manager.Update.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Update.End    | 管理员成功输入完管理员信息后，系统要能结束并返回提示信息。   |
| Manager.Search.End    | 管理员搜索完成以后，系统应返回到增删改查的主界面。           |
| Manager.Search.Null   | 管理员如果不输入任何信息，系统不做任何处理。                 |
| Manager.Search.Result | 管理员输入信息后，系统应该返回匹配的管理员信息。如果没有，则提示没有对应的管理员。 |



##### 3.2.1.8 赠送优惠券

###### 3.2.1.8.1 特性描述

当影院需要以赠送优惠券的方式刺激会员消费或者回馈会员的时候，选取消费额度达到要求的会员，给他们赠送优惠券。

优先级=高

###### 3.2.1.8.2 刺激/响应序列

刺激：管理员点击赠送优惠券。

响应：系统显示所有有效的优惠券。

刺激：管理员选择一些优惠券。

响应：系统对管理员的选择做出反馈。

刺激：管理员输入消费额度，点击赠送。

响应：系统返回赠送成功或者失败的提示信息。

###### 3.2.1.8.3 相关功能需求

|    Manager.Input     |  系统应该允许管理员在赠送优惠券页面进行鼠标单击或键盘输入。  |
| :------------------: | :----------------------------------------------------------: |
|  Manager.Input.Give  | 在管理员请求赠送优惠券时，系统要弹出对应页面，让管理员输入信息。参见Manager.give |
| Manager.Give.Coupons |         赠送优惠券界面应该显示当前所有有效的优惠券。         |
| Manager.Give.Select  |                管理员可以选中几个有效的优惠券                |
| Manager.Give.Charge  |             管理员可以输入会员需要达到的消费额度             |
| Manager.Give.Result  |           管理员点击赠送以后，系统显示赠送的结果。           |
|   Manager.Give.End   |            管理员完成赠送以后要能返回管理员主界面            |

#### 3.2.2 观众

##### 3.2.2.1 退票

###### 3.2.2.1.1 特性描述

观众由于各种原因不再想观影，想要退票。

优先级=高

###### 3.2.2.1.2 刺激/响应序列

刺激：观众选择某一场次点击退票

响应：系统显示退票策略，和该场次所有可以退的票

刺激：观众选择某几张票

响应：系统对选票做出反馈

刺激：观众点击退票

响应：系统显示退票结果

###### 3.2.2.1.3 相关功能需求

|      User.Input      |           系统应该允许观众在退票页面进行鼠标单击。           |
| :------------------: | :----------------------------------------------------------: |
|  User.Input.Refund   | 在观众请求赠退票时，系统要弹出对应页面，告诉观众退票策略，让观众选择要退的某几张票。参见User.Refund |
| User.Refund.Strategy |              进入退票界面后，系统要显示退票策略              |
|  User.Refund.Select  |              系统要允许观众选择某几张票进行退票              |
|  User.Refund.Result  |                   系统要显示观众退票的结果                   |
|   User.Refund.End    |          观众退票完成以后系统要返回观众的电影票界面          |

##### 3.2.2.2 查看历史充值记录

###### 3.2.2.2.1 特性描述

观众想要查看自己会员卡的充值情况，查看历史充值记录。

优先级=高

###### 3.2.2.2.2 刺激/响应序列

刺激：观众点击历史纪录

响应：系统显示包含充值记录和消费记录的历史纪录页面

刺激：观众选择充值记录

响应：系统显示粗略的充值记录列表

刺激：观众选择某一个充值记录查看详情

响应：系统显示该充值记录的详情

刺激：观众点击退出

响应：系统返回历史纪录页面。

###### 3.2.2.2.3 相关功能需求

|     User.Input     |         系统应该允许观众在历史纪录页面进行鼠标单击。         |
| :----------------: | :----------------------------------------------------------: |
| User.Input.Charge  | 系统要允许观众点击充值记录进入查看充值记录的页面。参见User.Charge |
|  User.Charge.List  |     进入查看充值记录的页面，系统要显示粗略的充值记录列表     |
|  User.Charge.Null  |          如果用户没有充值记录，系统显示”无充值记录“          |
| User.Charge.Detail |        观众选择某一个充值记录查看详情，系统要显示详情        |
|  User.Charge.End   |       观众查看记录完成以后系统要返回观众的历史纪录界面       |

##### 3.2.2.3 查看历史消费记录

###### 3.2.2.3.1 特性描述

观众想要查看自己会员卡、银行卡的消费情况，查看历史消费记录。

优先级=高

###### 3.2.2.3.2 刺激/响应序列

刺激：观众点击历史纪录

响应：系统显示包含充值记录和消费记录的历史纪录页面

刺激：观众选择消费记录

响应：系统显示粗略的消费记录列表

刺激：观众选择某一个消费记录查看详情

响应：系统显示该消费记录的详情

刺激：观众点击退出

响应：系统返回历史纪录页面。

###### 3.2.2.3.3 相关功能需求

|     User.Input      |         系统应该允许观众在历史纪录页面进行鼠标单击。         |
| :-----------------: | :----------------------------------------------------------: |
| User.Input.Consume  | 系统要允许观众点击消费记录进入查看消费记录的页面。参见User.Consume |
|  User.Consume.List  |     进入查看消费记录的页面，系统要显示粗略的消费记录列表     |
|  User.Consume.Null  |          如果用户没有消费记录，系统显示”无消费记录“          |
| User.Consume.Detail |        观众选择某一个消费记录查看详情，系统要显示详情        |
|  User.Consume.End   |       观众查看记录完成以后系统要返回观众的历史纪录界面       |

### 3.3 非功能需求

#### 3.3.1 安全性

Safety1:系统应该只允许经过验证和授权的用户访问。

Safety2:系统应该按照用户身份验证用户的访问权限。

#### 3.3.2 可维护性

Modifiability1: 在管理员修改系统信息时，系统要能在10秒内同步数据。

Modifiability2:如果系统要增加新的会员/退票策略，系统要能在1内完成。

#### 3.3.3 易用性

Usability1:熟悉操作流程的用户可以在2分钟内完成一次购票。

#### 3.3.4 可靠性

Reliability6：在客户端与服务器通信时，如果网络故障，系统不能出现故障。

​	Reliability6.1：客户端应该检测到故障，提示网络故障并尝试重新连接网络3次，每次15秒。

​		Reliability6.1.1：重新连接后，客户端应该继续之前的工作。

​		Reliability6.1.2：如果重新连接不成功，客户端应该5分钟后再次尝试重新连接。

​			Reliability6.1.2.1：重新连接后，客户端应该继续之前的工作。

​			Reliability6.1.2.2：如果重新连接仍然不成功，客户端放弃连接并提示。

#### 3.3.5 业务规则

BR1：适用（最低充值金额）的会员充值优惠策略。

​	充值金额大于等于最低充值金额。

BR2：适用（当前时间，票）的退票策略。

​	（当前时间早于最晚退票时间）而且票可退（非优惠票）。

#### 3.3.6 约束

IC1：系统要在网络上分布为一个服务器和多个客户端。

### 3.4 数据需求

#### 3.4.1 数据定义

DR1:系统需要存储的数据实体及其关系参见附图。

DR2:系统需要存储1年内的影票记录。

DR3:系统已下架的电影数据仍要永久存储。

#### 3.4.2 默认数据

Default1:影票的数量默认为1。

Defalut2:用户的默认身份为观众。

Default3:时间默认为当天。

Default4:观众绑定的银行卡默认为空。

#### 3.4.3 数据格式要求

Format1:影票数量必须为正整数。

Format2:价格和费用的格式必须是大于等于0、精确到小数点后两位的浮点数，单位为元。

Format3:日期的格式必须是yyyy-mm-dd。

### 3.5 其他

安装需求：

Install1：可以适配主流浏览器Chrome、IE、Edge、360、Safari。

Install2：安装时，要初始化观众信息列表、管理员信息列表及电影列表等重要数据。

## 4. 附录

无